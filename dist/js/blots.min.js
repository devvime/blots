(()=>{var C=Object.defineProperty;var M=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var i=(e,t,r)=>M(e,typeof t!="symbol"?t+"":t,r);function p(e,t){let r=t.split("."),n=e;for(let o of r)if(n&&typeof n=="object")n=n[o];else return;return n}function y(e,t){if(t.nodeType===3){let r=t.textContent.match(/{{\s*[\w.]+\s*}}/g);r&&r.forEach(n=>{let o=n.replace(/[{}]/g,"").trim(),s=p(e,o);t.textContent=t.textContent.replace(n,s!=null?s:"")})}}function x(e,t,r){let n=t.split("."),o=e;for(let s=0;s<n.length-1;s++){let a=n[s];a in o||(o[a]={}),o=o[a]}o[n[n.length-1]]=r,e.refresh_at=new Date().getMilliseconds()}function E(e,t){let r={},o=e.trim().slice(1,-1).split(",").map(s=>s.trim());for(let s of o){let[a,l]=s.split(":").map(m=>m.trim()),c=a.replace(/^["']|["']$/g,"");try{let m=new Function("data",`with(data) { return (${l}) }`);r[c]=m(t)}catch(m){console.warn(`Erro ao avaliar express\xE3o para @class: ${l}`,m)}}return r}function b(e,t,r,n){e.nodeType===1&&[...e.attributes].forEach(o=>{let s=o.name,a=o.value;s==="@click"&&e.addEventListener("click",r[a]),s==="@change"&&A(e,r,a),s==="@input"&&q(e,r),s==="@value"&&T(e,t,a),s==="@model"&&S(e,t,a),s==="@if"&&P(e,t,a),s==="@else"&&H(e,t,a),s==="@for"&&N(e,t,a),s==="@class"&&B(e,a,t)}),[...e.childNodes].forEach(o=>n(o))}function A(e,t,r){e.addEventListener("change",n=>{t[r]&&t[r](n)})}function q(e,t){e.addEventListener("input",r=>{t[value]&&t[value](r)})}function T(e,t,r){var n;e.value=(n=p(t,r))!=null?n:""}function S(e,t,r){var n;e.value=(n=p(t,r))!=null?n:"",e.addEventListener("input",o=>{x(t,r,o.target.value);let s=o.target.getAttribute("@name");document.querySelector(`[\\@name="${s}"]`).focus()})}function P(e,t,r){p(t,r)||e.remove()}function H(e,t,r){p(t,r)&&e.remove()}function N(e,t,r){let[n,,o]=r.split(" "),s=p(t,o);if(Array.isArray(s)){let a=e.parentElement;s.forEach(l=>{let c=e.cloneNode(!0);c.removeAttribute("@for"),c.innerHTML=c.innerHTML.replace(new RegExp(`{{\\s*${n}\\s*}}`,"g"),l),a.insertBefore(c,e)}),e.remove()}}function B(e,t,r){try{let n=E(t,r);for(let o in n)n[o]?e.classList.add(o):e.classList.remove(o)}catch(n){console.error("Error when interpreting @class:",n)}}function w(e,t,r){let n=document.querySelector(e);function o(s){y(t,s),b(s,t,r,o)}o(n)}function v(e,t,r){document.querySelectorAll(`[${t}]`).forEach(n=>{n.addEventListener(e,r)})}var X=(e,t)=>v("click",e,t),Y=(e,t)=>v("change",e,t),Z=(e,t)=>v("input",e,t);function et(e,t){let r=new CustomEvent(e,{detail:t});document.dispatchEvent(r)}function rt(e,t){document.addEventListener(e,t)}var g=class{constructor(){this.routes=[],window.addEventListener("popstate",()=>this.resolve()),this.setDataLink()}add(t,r){this.routes.push({path:t,callback:r})}navigate(t){history.pushState({},"",t),document.querySelector("app").innerHTML="",this.resolve()}setDataLink(){document.querySelectorAll("[data-link]").forEach(t=>{t.addEventListener("click",r=>{r.preventDefault(),r.target.style.cursor="pointer";let n=r.currentTarget.getAttribute("data-link");n&&this.navigate(n)})})}resolve(){let t=window.location.pathname,r=this.parseQueryParams(window.location.search);for(let n of this.routes){let o=this.matchPath(n.path,t);if(o){let s=n.callback(o,r);s!=null&&s.render&&s.render();return}}history.pushState({},"","/404"),document.querySelector("app").innerHTML=""}matchPath(t,r){let n=t.split("/").filter(Boolean),o=r.split("/").filter(Boolean);if(n.length!==o.length)return null;let s={};for(let a=0;a<n.length;a++){let l=n[a],c=o[a];if(l.startsWith(":"))s[l.substring(1)]=decodeURIComponent(c);else if(l!==c)return null}return s}parseQueryParams(t){let r={};return new URLSearchParams(t).forEach((o,s)=>{r[s]=o}),r}};function k(e,t){return new Proxy(e,{set(r,n,o){return r[n]=o,typeof t=="function"&&t({prop:n,value:o,target:r}),!0}})}function ot(){let e=new Set;return{subscribe:t=>e.add(t),unsubscribe:t=>e.delete(t),notify:t=>e.forEach(r=>r(t))}}function it(e){let t=document.createElement("template");return t.innerHTML=(e||"").trim(),t.content.firstElementChild}var D=`<nav></nav>

<h1>{{ title }}</h1>

<input type="text" @change="updateTitle" />

<button @click="sayHello">Clique aqui</button>
<button @click="testIf">Test if</button>

<ul>
    <li @for="item in items">{{ item }}</li>
</ul>

<p @if="showMessage">Mensagem vis\xEDvel</p>

<button @click="toggle" @class="{ active: isActive }">
    <span @if="isActive">Desativar</span>
    <span @else="isActive">Ativar</span>
</button>

<input type="text" @model="name" @name="inputName">
<input type="text" @model="title" @name="inputTitle">
<input type="text" @model="user.name" @name="inputUserName">

<p>Ol\xE1, {{ name }}!</p>

<p>User name: {{ user.name }}</p>
<p>Address: street: {{ user.address.street }}</p>`;var L=`<a @click="navigate" data-path="/">Home</a>
<a @click="navigate" data-path="/user/10/steve?test=true">Users</a>`;var f=class extends u{constructor(r,n){super(r,n);i(this,"target","nav");i(this,"template",L)}init(){this.setData({}),this.setMethods({})}};var h=class extends u{constructor(r,n){super(r,n);i(this,"target","app");i(this,"template",D)}init(){this.setData({name:"Steve",title:"Hello World!",showMessage:!0,items:["Cup","Book","Game"],isActive:!1,user:{name:"CJ",address:{street:"Groove street"}}}),this.setMethods({sayHello:()=>alert("Ol\xE1!"),testIf:()=>this.testIf(),updateTitle:r=>this.updateTitle(r),toggle:()=>this.toggle()}),this.addComponent(f)}testIf(){this.setData({showMessage:!this.getData("showMessage")})}updateTitle(r){this.setData({items:[...this.getData("items"),r.target.value]})}toggle(){this.setData({isActive:!this.getData("isActive")})}};var d=new g;d.add("/",(e,t)=>new h(e,t));d.add("/user/:id/:name",(e,t)=>{console.log("Params:",e),console.log("Query:",t)});d.resolve();var u=class{constructor(t={},r={}){i(this,"component",{});i(this,"target","app");i(this,"template","");i(this,"params",{});i(this,"query",{});i(this,"componentChilds",[]);this.params=t,this.query=r,this.component=k({},()=>{this.render()}),this.component.navigate=n=>this.navigate(n),this.init(),document.addEventListener("DOMContentLoaded",()=>{this.render()})}init(){}setData(t={}){Object.keys(t).forEach(r=>{this.component[r]=t[r]})}getData(t){return this.component[t]}setMethods(t={}){Object.keys(t).forEach(r=>{this.component[r]=t[r]})}addComponent(t,r=[]){this.componentChilds.push(new t(this.params,this.query,r))}navigate(t){d.navigate(t.target.getAttribute("data-path"))}render(){document.querySelector(this.target)&&(document.querySelector(this.target).innerHTML=this.template,w(this.target,this.component,this.component)),this.componentChilds.forEach(t=>{t.render()})}};})();
//# sourceMappingURL=blots.min.js.map
