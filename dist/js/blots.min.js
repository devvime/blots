(()=>{var L=Object.defineProperty;var b=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var u=(e,t,r)=>b(e,typeof t!="symbol"?t+"":t,r);function l(e,t){let r=t.split("."),n=e;for(let s of r)if(n&&typeof n=="object")n=n[s];else return;return n}function m(e,t){if(t.nodeType===3){let r=t.textContent.match(/{{\s*[\w.]+\s*}}/g);r&&r.forEach(n=>{let s=n.replace(/[{}]/g,"").trim(),o=l(e,s);t.textContent=t.textContent.replace(n,o!=null?o:"")})}}function h(e,t,r){let n=t.split("."),s=e;for(let o=0;o<n.length-1;o++){let a=n[o];a in s||(s[a]={}),s=s[a]}s[n[n.length-1]]=r,e.refresh_at=new Date().getMilliseconds()}function d(e,t){let r={},s=e.trim().slice(1,-1).split(",").map(o=>o.trim());for(let o of s){let[a,c]=o.split(":").map(p=>p.trim()),i=a.replace(/^["']|["']$/g,"");try{let p=new Function("data",`with(data) { return (${c}) }`);r[i]=p(t)}catch(p){console.warn(`Erro ao avaliar express\xE3o para @class: ${c}`,p)}}return r}function v(e,t,r,n){e.nodeType===1&&[...e.attributes].forEach(s=>{let o=s.name,a=s.value;o==="@click"&&e.addEventListener("click",r[a]),o==="@change"&&w(e,r,a),o==="@input"&&k(e,r),o==="@value"&&M(e,t,a),o==="@model"&&D(e,t,a),o==="@if"&&q(e,t,a),o==="@else"&&C(e,t,a),o==="@for"&&P(e,t,a),o==="@class"&&S(e,a,t)}),[...e.childNodes].forEach(s=>n(s))}function w(e,t,r){e.addEventListener("change",n=>{t[r]&&t[r](n)})}function k(e,t){e.addEventListener("input",r=>{t[value]&&t[value](r)})}function M(e,t,r){var n;e.value=(n=l(t,r))!=null?n:""}function D(e,t,r){var n;e.value=(n=l(t,r))!=null?n:"",e.addEventListener("input",s=>{h(t,r,s.target.value);let o=s.target.getAttribute("@name");document.querySelector(`[\\@name="${o}"]`).focus()})}function q(e,t,r){l(t,r)||e.remove()}function C(e,t,r){l(t,r)&&e.remove()}function P(e,t,r){let[n,,s]=r.split(" "),o=l(t,s);if(Array.isArray(o)){let a=e.parentElement;o.forEach(c=>{let i=e.cloneNode(!0);i.removeAttribute("@for"),i.innerHTML=i.innerHTML.replace(new RegExp(`{{\\s*${n}\\s*}}`,"g"),c),a.insertBefore(i,e)}),e.remove()}}function S(e,t,r){try{let n=d(t,r);for(let s in n)n[s]?e.classList.add(s):e.classList.remove(s)}catch(n){console.error("Error when interpreting @class:",n)}}function y(e,t,r){let n=document.querySelector(e);function s(o){m(t,o),v(o,t,r,s)}s(n)}function f(e,t,r){document.querySelectorAll(`[${t}]`).forEach(n=>{n.addEventListener(e,r)})}var U=(e,t)=>f("click",e,t),K=(e,t)=>f("change",e,t),W=(e,t)=>f("input",e,t);function z(e,t){let r=new CustomEvent(e,{detail:t});document.dispatchEvent(r)}function G(e,t){document.addEventListener(e,t)}var g=class{constructor(){this.routes=[],window.addEventListener("popstate",()=>this.resolve()),this.setDataLink()}add(t,r){this.routes.push({path:t,callback:r})}navigate(t){history.pushState({},"",t),document.querySelector("app").innerHTML="",this.resolve()}setDataLink(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("a[data-link]").forEach(t=>{t.addEventListener("click",r=>{r.preventDefault();let n=r.currentTarget.getAttribute("href");n&&this.navigate(n)})})})}resolve(){let t=window.location.pathname,r=this.parseQueryParams(window.location.search);for(let n of this.routes){let s=this.matchPath(n.path,t);if(s){let o=n.callback(s,r);o!=null&&o.render&&o.render();return}}history.pushState({},"","/404"),document.querySelector("app").innerHTML=""}matchPath(t,r){let n=t.split("/").filter(Boolean),s=r.split("/").filter(Boolean);if(n.length!==s.length)return null;let o={};for(let a=0;a<n.length;a++){let c=n[a],i=s[a];if(c.startsWith(":"))o[c.substring(1)]=decodeURIComponent(i);else if(c!==i)return null}return o}parseQueryParams(t){let r={};return new URLSearchParams(t).forEach((s,o)=>{r[o]=s}),r}};function x(e,t){return new Proxy(e,{set(r,n,s){return r[n]=s,typeof t=="function"&&t({prop:n,value:s,target:r}),!0}})}function Y(){let e=new Set;return{subscribe:t=>e.add(t),unsubscribe:t=>e.delete(t),notify:t=>e.forEach(r=>r(t))}}function tt(e){let t=document.createElement("template");return t.innerHTML=(e||"").trim(),t.content.firstElementChild}var E=class{constructor(t={},r={}){u(this,"component",{});u(this,"target","app");u(this,"template","");u(this,"params",{});u(this,"query",{});this.params=t,this.query=r,this.component=x({},()=>{this.render()}),this.init(),document.addEventListener("DOMContentLoaded",()=>{this.render()})}init(){}setData(t={}){Object.keys(t).forEach(r=>{this.component[r]=t[r]})}getData(t){return this.component[t]}setMethods(t={}){Object.keys(t).forEach(r=>{this.component[r]=t[r]})}render(){document.querySelector(this.target).innerHTML=this.template,y(this.target,this.component,this.component)}};})();
//# sourceMappingURL=blots.min.js.map
