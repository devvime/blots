(()=>{var D=Object.defineProperty;var k=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>k(s,typeof t!="symbol"?t+"":t,e);var h=class{constructor(){this.routes=[],window.addEventListener("popstate",()=>this.resolve()),this.setDataLink()}add(t,e){this.routes.push({path:t,callback:e})}navigate(t){history.pushState({},"",t),document.querySelector("app").innerHTML="",this.resolve()}setDataLink(){document.querySelectorAll("a[data-link]").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let r=e.currentTarget.getAttribute("href");r&&this.navigate(r)})})}resolve(){let t=window.location.pathname,e=this.parseQueryParams(window.location.search);for(let r of this.routes){let n=this.matchPath(r.path,t);if(n){r.callback(n,e);return}}console.warn("No route matched:",t)}matchPath(t,e){let r=t.split("/").filter(Boolean),n=e.split("/").filter(Boolean);if(r.length!==n.length)return null;let o={};for(let a=0;a<r.length;a++){let l=r[a],i=n[a];if(l.startsWith(":"))o[l.substring(1)]=decodeURIComponent(i);else if(l!==i)return null}return o}parseQueryParams(t){let e={};return new URLSearchParams(t).forEach((n,o)=>{e[o]=n}),e}};function u(s,t){let e=t.split("."),r=s;for(let n of e)if(r&&typeof r=="object")r=r[n];else return;return r}function v(s,t){if(t.nodeType===3){let e=t.textContent.match(/{{\s*[\w.]+\s*}}/g);e&&e.forEach(r=>{let n=r.replace(/[{}]/g,"").trim(),o=u(s,n);t.textContent=t.textContent.replace(r,o!=null?o:"")})}}function y(s,t,e){let r=t.split("."),n=s;for(let o=0;o<r.length-1;o++){let a=r[o];a in n||(n[a]={}),n=n[a]}n[r[r.length-1]]=e,s.refresh_at=new Date().getMilliseconds()}function b(s,t){let e={},n=s.trim().slice(1,-1).split(",").map(o=>o.trim());for(let o of n){let[a,l]=o.split(":").map(p=>p.trim()),i=a.replace(/^["']|["']$/g,"");try{let p=new Function("data",`with(data) { return (${l}) }`);e[i]=p(t)}catch(p){console.warn(`Erro ao avaliar express\xE3o para @class: ${l}`,p)}}return e}function w(s,t,e,r){s.nodeType===1&&[...s.attributes].forEach(n=>{let o=n.name,a=n.value;o==="@click"&&s.addEventListener("click",e[a]),o==="@change"&&L(s,e,a),o==="@input"&&M(s,e),o==="@value"&&A(s,t,a),o==="@model"&&T(s,t,a),o==="@if"&&P(s,t,a),o==="@else"&&q(s,t,a),o==="@for"&&C(s,t,a),o==="@class"&&N(s,a,t)}),[...s.childNodes].forEach(n=>r(n))}function L(s,t,e){s.addEventListener("change",r=>{t[e]&&t[e](r)})}function M(s,t){s.addEventListener("input",e=>{t[value]&&t[value](e)})}function A(s,t,e){var r;s.value=(r=u(t,e))!=null?r:""}function T(s,t,e){var r;s.value=(r=u(t,e))!=null?r:"",s.addEventListener("input",n=>{y(t,e,n.target.value);let o=n.target.getAttribute("@name");document.querySelector(`[\\@name="${o}"]`).focus()})}function P(s,t,e){u(t,e)||s.remove()}function q(s,t,e){u(t,e)&&s.remove()}function C(s,t,e){let[r,,n]=e.split(" "),o=u(t,n);if(Array.isArray(o)){let a=s.parentElement;o.forEach(l=>{let i=s.cloneNode(!0);i.removeAttribute("@for"),i.innerHTML=i.innerHTML.replace(new RegExp(`{{\\s*${r}\\s*}}`,"g"),l),a.insertBefore(i,s)}),s.remove()}}function N(s,t,e){try{let r=b(t,e);for(let n in r)r[n]?s.classList.add(n):s.classList.remove(n)}catch(r){console.error("Error when interpreting @class:",r)}}function d(s,t,e){let r=document.querySelector(s);function n(o){v(t,o),w(o,t,e,n)}n(r)}function x(s,t){return new Proxy(s,{set(e,r,n){return e[r]=n,typeof t=="function"&&t({prop:r,value:n,target:e}),!0}})}var f=class{constructor(t={},e={}){c(this,"component",{});c(this,"target","app");c(this,"template","");c(this,"params",{});c(this,"query",{});this.params=t,this.query=e,this.component=x({},()=>{this.render()}),this.init(),document.addEventListener("DOMContentLoaded",()=>{this.render()})}init(){}setData(t={}){Object.keys(t).forEach(e=>{this.component[e]=t[e]})}getData(t){return this.component[t]}setMethods(t={}){Object.keys(t).forEach(e=>{this.component[e]=t[e]})}render(){document.querySelector(this.target).innerHTML=this.template,d(this.target,this.component,this.component)}};var E=`<h1>{{ title }}</h1>

<input type="text" @change="updateTitle" />

<button @click="sayHello">Clique aqui</button>
<button @click="testIf">Test if</button>

<ul>
    <li @for="item in items">{{ item }}</li>
</ul>

<p @if="showMessage">Mensagem vis\xEDvel</p>

<button @click="toggle" @class="{ active: isActive }">
    <span @if="isActive">Desativar</span>
    <span @else="isActive">Ativar</span>
</button>

<input type="text" @model="name" @name="inputName">
<input type="text" @model="title" @name="inputTitle">
<input type="text" @model="user.name" @name="inputUserName">

<p>Ol\xE1, {{ name }}!</p>

<p>User name: {{ user.name }}</p>
<p>Address: street: {{ user.address.street }}</p>`;var m=class extends f{constructor(e,r){super(e,r);c(this,"target","app");c(this,"template",E);this.render()}init(){this.setData({name:"Steve",title:"Hello World!",showMessage:!0,items:["Cup","Book","Game"],isActive:!1,user:{name:"CJ",address:{street:"Groove street"}}}),this.setMethods({sayHello:()=>alert("Ol\xE1!"),testIf:()=>this.testIf(),updateTitle:e=>this.updateTitle(e),toggle:()=>this.toggle()})}testIf(){this.setData({showMessage:!this.getData("showMessage")})}updateTitle(e){this.setData({items:[...this.getData("items"),e.target.value]})}toggle(){this.setData({isActive:!this.getData("isActive")})}};var g=new h;g.add("/",(s,t)=>new m(s,t));g.add("/user/:id/:name",(s,t)=>{console.log("Params:",s),console.log("Query:",t)});g.resolve();})();
//# sourceMappingURL=main.min.js.map
