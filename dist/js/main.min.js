(()=>{var D=Object.defineProperty;var L=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>L(s,typeof t!="symbol"?t+"":t,e);var m=class{constructor(){this.routes=[],window.addEventListener("popstate",()=>this.resolve()),this.setDataLink()}add(t,e){this.routes.push({path:t,callback:e})}navigate(t){history.pushState({},"",t),document.querySelector("app").innerHTML="",this.resolve()}setDataLink(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("a[data-link]").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let r=e.currentTarget.getAttribute("href");r&&this.navigate(r)})})})}resolve(){let t=window.location.pathname,e=this.parseQueryParams(window.location.search);for(let r of this.routes){let o=this.matchPath(r.path,t);if(o){let n=r.callback(o,e);n!=null&&n.render&&n.render();return}}history.pushState({},"","/404"),document.querySelector("app").innerHTML=""}matchPath(t,e){let r=t.split("/").filter(Boolean),o=e.split("/").filter(Boolean);if(r.length!==o.length)return null;let n={};for(let a=0;a<r.length;a++){let l=r[a],i=o[a];if(l.startsWith(":"))n[l.substring(1)]=decodeURIComponent(i);else if(l!==i)return null}return n}parseQueryParams(t){let e={};return new URLSearchParams(t).forEach((o,n)=>{e[n]=o}),e}};function u(s,t){let e=t.split("."),r=s;for(let o of e)if(r&&typeof r=="object")r=r[o];else return;return r}function g(s,t){if(t.nodeType===3){let e=t.textContent.match(/{{\s*[\w.]+\s*}}/g);e&&e.forEach(r=>{let o=r.replace(/[{}]/g,"").trim(),n=u(s,o);t.textContent=t.textContent.replace(r,n!=null?n:"")})}}function v(s,t,e){let r=t.split("."),o=s;for(let n=0;n<r.length-1;n++){let a=r[n];a in o||(o[a]={}),o=o[a]}o[r[r.length-1]]=e,s.refresh_at=new Date().getMilliseconds()}function y(s,t){let e={},o=s.trim().slice(1,-1).split(",").map(n=>n.trim());for(let n of o){let[a,l]=n.split(":").map(p=>p.trim()),i=a.replace(/^["']|["']$/g,"");try{let p=new Function("data",`with(data) { return (${l}) }`);e[i]=p(t)}catch(p){console.warn(`Erro ao avaliar express\xE3o para @class: ${l}`,p)}}return e}function b(s,t,e,r){s.nodeType===1&&[...s.attributes].forEach(o=>{let n=o.name,a=o.value;n==="@click"&&s.addEventListener("click",e[a]),n==="@change"&&M(s,e,a),n==="@input"&&k(s,e),n==="@value"&&A(s,t,a),n==="@model"&&T(s,t,a),n==="@if"&&q(s,t,a),n==="@else"&&C(s,t,a),n==="@for"&&P(s,t,a),n==="@class"&&S(s,a,t)}),[...s.childNodes].forEach(o=>r(o))}function M(s,t,e){s.addEventListener("change",r=>{t[e]&&t[e](r)})}function k(s,t){s.addEventListener("input",e=>{t[value]&&t[value](e)})}function A(s,t,e){var r;s.value=(r=u(t,e))!=null?r:""}function T(s,t,e){var r;s.value=(r=u(t,e))!=null?r:"",s.addEventListener("input",o=>{v(t,e,o.target.value);let n=o.target.getAttribute("@name");document.querySelector(`[\\@name="${n}"]`).focus()})}function q(s,t,e){u(t,e)||s.remove()}function C(s,t,e){u(t,e)&&s.remove()}function P(s,t,e){let[r,,o]=e.split(" "),n=u(t,o);if(Array.isArray(n)){let a=s.parentElement;n.forEach(l=>{let i=s.cloneNode(!0);i.removeAttribute("@for"),i.innerHTML=i.innerHTML.replace(new RegExp(`{{\\s*${r}\\s*}}`,"g"),l),a.insertBefore(i,s)}),s.remove()}}function S(s,t,e){try{let r=y(t,e);for(let o in r)r[o]?s.classList.add(o):s.classList.remove(o)}catch(r){console.error("Error when interpreting @class:",r)}}function x(s,t,e){let r=document.querySelector(s);function o(n){g(t,n),b(n,t,e,o)}o(r)}function w(s,t){return new Proxy(s,{set(e,r,o){return e[r]=o,typeof t=="function"&&t({prop:r,value:o,target:e}),!0}})}var h=class{constructor(t={},e={}){c(this,"component",{});c(this,"target","app");c(this,"template","");c(this,"params",{});c(this,"query",{});this.params=t,this.query=e,this.component=w({},()=>{this.render()}),this.init(),document.addEventListener("DOMContentLoaded",()=>{this.render()})}init(){}setData(t={}){Object.keys(t).forEach(e=>{this.component[e]=t[e]})}getData(t){return this.component[t]}setMethods(t={}){Object.keys(t).forEach(e=>{this.component[e]=t[e]})}render(){document.querySelector(this.target).innerHTML=this.template,x(this.target,this.component,this.component)}};var E=`<h1>{{ title }}</h1>

<input type="text" @change="updateTitle" />

<button @click="sayHello">Clique aqui</button>
<button @click="testIf">Test if</button>

<ul>
    <li @for="item in items">{{ item }}</li>
</ul>

<p @if="showMessage">Mensagem vis\xEDvel</p>

<button @click="toggle" @class="{ active: isActive }">
    <span @if="isActive">Desativar</span>
    <span @else="isActive">Ativar</span>
</button>

<input type="text" @model="name" @name="inputName">
<input type="text" @model="title" @name="inputTitle">
<input type="text" @model="user.name" @name="inputUserName">

<p>Ol\xE1, {{ name }}!</p>

<p>User name: {{ user.name }}</p>
<p>Address: street: {{ user.address.street }}</p>`;var f=class extends h{constructor(e,r){super(e,r);c(this,"target","app");c(this,"template",E)}init(){this.setData({name:"Steve",title:"Hello World!",showMessage:!0,items:["Cup","Book","Game"],isActive:!1,user:{name:"CJ",address:{street:"Groove street"}}}),this.setMethods({sayHello:()=>alert("Ol\xE1!"),testIf:()=>this.testIf(),updateTitle:e=>this.updateTitle(e),toggle:()=>this.toggle()})}testIf(){this.setData({showMessage:!this.getData("showMessage")})}updateTitle(e){this.setData({items:[...this.getData("items"),e.target.value]})}toggle(){this.setData({isActive:!this.getData("isActive")})}};var d=new m;d.add("/",(s,t)=>new f(s,t));d.add("/user/:id/:name",(s,t)=>{console.log("Params:",s),console.log("Query:",t)});d.resolve();})();
//# sourceMappingURL=main.min.js.map
